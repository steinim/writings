# UsrBizDevOps

Alle snakker om DevOps. Virksomheter kan rett og slett ikke overse det faktum at DevOps er en forutsetning for mer effektiv programvareutvikling. Det er riktig det, men DevOps alene er ikke hele svaret. Det er derfor viktig å snakke om hva DevOps er en forutsetning for, hvilke hindringer det fjerner, hvilke fordeler det gir og hvordan det påvirker organisasjonen. Vel så viktig er det også å snakke om hva som er forutsetninger for DevOps, for selv om DevOps ikke er et sett med teknologier eller prosesser, så er det vanskelig å implementere det uten å ta hensyn til disse aspektene.

---

## Hva er DevOps?
DevOps er en kombinasjon av to ord. Development og Operations. Utvikling og Drift. Det er en kulturgreie som understreker at utviklings- og driftsfunksjonene må samarbeide tett for å fjerne de tradisjonelle siloene hvor drift blir målt på stabilitet, og utvikling på endring. Ferdig kode overleveres ikke lenger til drift for produksjonssetting og vedlikehold. Alle er ansvarlige for at produktene utvikles, vedlikeholdes og driftes.

Gene Kim, en "thought leader" innen DevOps har definert ["The Three Ways"](http://itrevolution.com/the-three-ways-principles-underpinning-devops/) som er et sett av prinsipper som underbygger DevOps:

  * **Flyt**: Forbedre flyten i verdistrømmen fra venstre (krav og utvikling) til høyre (drift) ved å fjerne hindringer og begrensninger.
  * **Feedback**: Lag feedback-loops som gjør at man effektivt og enkelt kan forbedre seg kontinuerlig.
  * **Eksperimenter og lær**: Frem en kultur som fokuserer på eksperimentering og å lære fra feil. Repetisjon er en forutsetning for mestring.

Det er viktig å understreke at man ikke må lage en ny silo når man implementerer DevOps. Samarbeid mellom de to funksjonene er avgjørende for å lykkes.

## Hvorfor DevOps?
Det er ikke vanskelig å se at "The Three Ways" ligner mye på dyder vi kjenner igjen fra [Smidig programvareutvikling](http://www.agilemanifesto.org/iso/no/), [Lean IT](https://en.wikipedia.org/wiki/Lean_IT), og produkt- og forretningsmetodikken [Lean Startup](http://theleanstartup.com/principles). Alle disse fokuserer på rask flyt av verdifulle produkter eller tjenester gjennom verdikjeden. I tillegg rask feedback på prosess og produkter, samt et sterkt fokus på eksperimentering og læring underveis. Det er her DevOps kommer inn som en forutsetning for å lykkes med disse måtene å jobbe på. Hensikten er å fjerne flaskehalsen en adskilt utviklings- og driftsfunksjon skaper.

DevOps-team er autonome og kryssfunksjonelle team som har ansvaret for hele livssyklusen til programvare fra unnfangelse til bruk, inkludert ansvar for kvalitet, tilgjengelighet, ytelse, stabilitet, skalerbarhet, sikkerhet og monitorering. Teamet kan løse alle oppgaver som skal til uten ekstern innblanding eller behov for å henvende seg til utenforstående personer. Autonomiteten gjør at de kan bevege seg raskt og smidig og på den måten understøtte forretning- eller fagsiden sine ønsker om å lage et best mulig produkt for sine brukere på en optimal måte. Om man vil realisere gevinster kontinuerlig, få rask feedback på produkter, redusere økonomisk risiko, ha evne til å endre kurs og starte smått, så er denne organiseringen ideell. DevOps lar virksomheter produsere programvare og tjenester med høy kvalitet på en repeterbar måte.

## Et puslespill med tre biter
DevOps er likevel kun en brikke i et puslespill med tre biter. DevOps-biten er middelet, ikke målet. Målet er å tilfredsstille brukernes behov og skape verdi for forretning eller fagsiden. DevOps bør derfor prefikses med Bruker (Usr) og Forretning (Biz) i den rekkefølgen. *UsrBizDevOps*.

![UsrBizDevOps-team](https://github.com/steinim/writings/raw/master/images/usrbizdevops-team.png)

Brukerne er de vi lager produktene eller tjenestene for. De er opptatt av at produktene gir verdi for de. Derfor er det viktige å involvere brukerne tidlig og kontinuerlig gjennom hele prosessen. I Lean Startup gjør man dette ved å lage såkalte *minste brukbare produkt* (engelsk: *minimum viable product* - MVP). Et minste brukbart produkt er en versjon av produktet som tillater et team å samle mest mulig sikker informasjon om brukere med lavest mulig innsats. Ved å lansere eksperimenter, lære, og planlegge basert på denne læringen, blir man sikrere på at man lager riktig produkt. Uten DevOps er det så og si umulig å oppnå denne raske itereringen. Å involvere brukerne mest mulig er selvsagt ikke unikt for Lean Startup. Det er essensielt uavhengig av hvilken prosess man benytter.

Men det er ikke brukerne som skal tjene (eller spare) penger, eller effektivisere virksomhetens kontakt med brukerne. Det er det forretning eller fagsiden som skal. Og siden det bør være det viktigste å bruke tid på, så deltar de tett sammen med det tekniske teamet som skal lage produktene. Og gjennom å lage det brukerne vil ha, så skal de sikre at gevinster realiseres og at det skapes verdi. Det er hele puslespillet. *UsrBizDevOps*.

## Organisatoriske forutsetninger for DevOps
Om man skal lykkes med DevOps må en del organisatoriske forutsetninger være på plass. Først og fremst en forretnings- eller fagside som er involvert fra dag til dag. Et team er ikke fullt ut autonomt og kryssfunksjonelt uten at det er et UsrBizDevOps-team. Slike team har full kontroll over alle aspekter ved produktet (eller verdien) som produseres. Alle forstår hensikten med innsatsen og hva man ønsker å oppnå. Autonomiteten tillater at teamene kan jobbe som små lettvektige start-ups. I en større organisasjon gir dette fordelene av at hele virksomheten blir mer smidig og endringsdyktig, samt at skalering og omprioritering blir mye enklere.

![UsrBizDevOps-org](https://github.com/steinim/writings/raw/master/images/usrbizdevops-org.png)

For å unngå suboptimalisering kreves styring og ledelse på et overordnet nivå. De små selvstyrte teamene gir en unik mulighet for fleksibilitet og evne til å reagere på endringer og nye muligheter. I likhet med start-ups må hvert team vise til resultater. Om en start-up skal tiltrekke seg investorer og vinne markeder er de nødt til å skape verdi for å berettige sin eksistens. De kan bli påvirket av konjunkturer, konkurranse og endringer i omverdenen. Tilsvarende kan man styre sin bedrift ved å finansiere initiativer man ønsker å få gjennomført. Viser ikke initiativet de ønskede resultatene kan man kutte finansiering og investere pengene andre steder. Detaljeringen av de overordnede målene for initiativet overlates til hvert team. Noen virksomheter benytter også denne muligheten til å konkurrere med seg selv. Dette gjør at man kan komme konkurrenter eller nye disruptive trender i forkjøpet.

## Hva skjer med IT-avdelingen?
De primære driverne for DevOps er samarbeid, tillit og respekt. Utvikleres tillit ovenfor drift, drifteres ovenfor utvikling. Og selvsagt teknologenes tillit ovenfor ikke-tekniske personer. Gjennom tett samarbeid overkommes utfordringene med utviklere som overleverer programvare som er vanskelig å drifte, og som driftere ikke vet hvordan fungerer. Det delte ansvaret for produksjon ansvarliggjør alle, og beredskap er ikke lenger forbeholdt drift. Forretning blir ikke frustrert over at teknologene leverer funksjonalitet hvor forventningene ikke står i stil med resultatene. Teknologene respekterer forretnigssidens behov og forretningssiden respekterer at teknologene er de beste til å ta teknologiske valg. Virksomheten må innse at de er en IT-bedrift og at IT-avdelingen ikke lenger er en isolert støttefunksjon for forretning. Det vil være nødvendig med organisasjonsendring, men oppgavene forsvinner ikke. Ansvaret deles, og i kjølvannet oppstår behov for ny kompetanse, nye verktøy, nye arbeidsmåter og et sterkt fokus på automatisering.

## Tekniske forutsetninger for DevOps
Tradisjonell drift og utvikling vil ikke fungere i en organisasjon som adopterer DevOps. Selv om DevOps ikke er verktøy er det et middel for å sørge for en rask og taktfast flyt av programvare som gir verdi til produksjon. *Uten* at det går på bekostning av kvalitet, tilgjengelighet, ytelse, stabilitet, skalerbarhet, sikkerhet og så videre. Da trenger man verktøy, teknologi, prosesser og praksiser som gjør dette mulig.

Automatisering er essensielt om man skal oppnå repeterbare, suksessfulle releaser jevnlig. Manuelle prosesser er simpelthen for utsatt for feil og ineffektive. Bygging, testing, kontinuerlig integrasjon og produksjonssettinger skal være automatisert på en slik måte at når en utvikler gjør en commit til kildekodekontroll så rulles endringen hele veien ut i produksjon om ønskelig.

Monitorering og måling bør gjennomsyre alt man lager og gjør. Det er viktig å vite hvordan alt oppfører seg i produksjon for å kunne identifisere problemer raskt, og for å kunne gjøre preventive tiltak mot potensielle problemer. Monitorering som bygges inn i applikasjoner, infrastruktur og alt imellom gir en helt annen innsikt enn når det legges på i etterkant. Risikoen senkes betydelig for produksjonsproblemer når effekten av hver minste endring blir synlig. Det beste testmiljøet er tross alt produksjon fordi det er det eneste realistiske miljøet man kan teste i. Det er ikke bare monitorering av tekniske aspekter som gir verdifull innsikt. Også funksjonell monitorering kan fortelle mye om effekten av endringer, for eksempel færre registreringer eller reduksjon i antall brukere som benytter seg av en funksjon.

Oppsett av produksjonslik infrastruktur ved behov må være selvbetjent og tilgjengelig for alle. Dette krever en elastisk infrastruktur hvor miljøer kan opprettes og rives ned etter bruk. Ellers vil kapasiteten fort bli overskredet eller veldig dyr. Manuelle operasjoner på servere eller annen infrastruktur skal ikke være lov. Hele infrastrukturen, inkludert virtuelle servere, konfigurasjon, brannvegger, lastbalanserere, nettverksoppsett, applikasjoner og databaser skal testes automatisert og kunne rulles ut ved å trykke på en knapp. Det er et poeng i seg selv å gjøre dette jevnlig for å sikre at hele miljøet er konsistent og i henhold til spesifikasjon til enhver tid. Da unngår man feil som av en eller annen grunn kun oppstår i produksjon. Dette kalles engangs-infrastruktur (engelsk: "immutable infrastructure"). Infrastrukturen er definert som kode, versjonert i kildekodekontroll og automatisert.

Selv om bruk av offentlige skytjenester strengt tatt ikke er en absolutt forutsetning, så er det vanskelig å komme utenom at alt jeg har beskrevet i denne bloggposten blir eksponensielt enklere om man gjør det. Infrastruktur i egen datahall, eller hos tradisjonelle driftsleverandører, kan simpelthen ikke konkurere med de store nettskyleverandørene når det gjelder fleksibilitet, skalerbarhet, stabilitet, sikkerhet eller tjenestenivå. Trond Arve Wasskog har skrevet mer om dette i [Alle vil til himmelen men ingen vil dø](http://open.bekk.no/maskinvare-blir-mjukvare) og [Hvem kan konkurrere med Amazon Web Services?](https://open.bekk.no/hvem-kan-konkurrere-med-amazon-web-services)


## Avsluttende ord
DevOps er ikke et mål i seg selv. Det er et middel for at forretnings- eller fagsiden skal få tilbake kontrollen over release-planen. IT skal ikke lenger være en bremsekloss. DevOps muliggjør en taktfast og repeterbar prosess for hyppige endringer uten at korthuset raser sammen på grunn av dårlig håndverk. Kontinuerlig eksperimentering i produksjon gjør det mulig å skaffe tidlig og sikker innsikt i hva brukerne gjør og ønsker.

Selv om DevOps først og fremst handler om kultur, organisering og noen overordnede prinsipper, så forutsetter en vellykket implementering teknologistøtte. Automatisering, monitorering og en fleksibel infrastruktur må til for å ta ut de virkelig store effektene. Teknologien finnes i form av verktøy for automatisering og monitorering, og offentlig nettsky er løsningen for infrastruktur.
